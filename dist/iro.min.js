/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).iro=n()}(this,function(){"use strict";var k,x,P,n,$,D,M={},W=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function j(t,n){for(var i in n)t[i]=n[i];return t}function F(t){var n=t.parentNode;n&&n.removeChild(t)}function h(t,n,i){var e,r,o,u={};for(o in n)"key"==o?e=n[o]:"ref"==o?r=n[o]:u[o]=n[o];if(2<arguments.length&&(u.children=3<arguments.length?k.call(arguments,2):i),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===u[o]&&(u[o]=t.defaultProps[o]);return m(t,u,e,r,null)}function m(t,n,i,e,r){t={type:t,props:n,key:i,ref:e,n:null,i:null,e:0,o:null,u:void 0,c:null,f:null,constructor:void 0,d:null==r?++P:r};return null==r&&null!=x.vnode&&x.vnode(t),t}function I(t){return t.children}function O(t,n){this.props=t,this.context=n}function S(t,n){if(null==n)return t.i?S(t.i,t.i.n.indexOf(t)+1):null;for(var i;n<t.n.length;n++)if(null!=(i=t.n[n])&&null!=i.o)return i.o;return"function"==typeof t.type?S(t):null}function L(t){(!t.u&&(t.u=!0)&&n.push(t)&&!i.p++||D!==x.debounceRendering)&&((D=x.debounceRendering)||$)(i)}function i(){for(var t;i.p=n.length;)t=n.sort(function(t,n){return t.d.e-n.d.e}),n=[],t.some(function(t){var n,i,e,r,o;t.u&&(r=(e=(t=t).d).o,(o=t.m)&&(n=[],(i=j({},e)).d=e.d+1,w(o,e,i,t.w,void 0!==o.ownerSVGElement,null!=e.f?[r]:null,n,null==r?S(e):r,e.f),Z(n,e),e.o!=r&&function t(n){var i,e;if(null!=(n=n.i)&&null!=n.c){for(n.o=n.c.base=null,i=0;i<n.n.length;i++)if(null!=(e=n.n[i])&&null!=e.o){n.o=n.c.base=e.o;break}return t(n)}}(e)))})}function q(t,n,i,e,r,o,u,l,s,c){var a,f,h,d,v,p,g,y=e&&e.n||W,b=y.length;for(i.n=[],a=0;a<n.length;a++)if(null!=(d=i.n[a]=null==(d=n[a])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?m(null,d,null,null,d):Array.isArray(d)?m(I,{children:d},null,null,null):0<d.e?m(d.type,d.props,d.key,null,d.d):d)){if(d.i=i,d.e=i.e+1,null===(h=y[a])||h&&d.key==h.key&&d.type===h.type)y[a]=void 0;else for(f=0;f<b;f++){if((h=y[f])&&d.key==h.key&&d.type===h.type){y[f]=void 0;break}h=null}w(t,d,h=h||M,r,o,u,l,s,c),v=d.o,(f=d.ref)&&h.ref!=f&&(g=g||[],h.ref&&g.push(h.ref,null,d),g.push(f,d.c||v,d)),null!=v?(null==p&&(p=v),"function"==typeof d.type&&d.n===h.n?d.u=s=function t(n,i,e){for(var r,o=n.n,u=0;o&&u<o.length;u++)(r=o[u])&&(r.i=n,i="function"==typeof r.type?t(r,i,e):B(e,r,r,o,r.o,i));return i}(d,s,t):s=B(t,d,h,y,v,s),"function"==typeof i.type&&(i.u=s)):s&&h.o==s&&s.parentNode!=t&&(s=S(h))}for(i.o=p,a=b;a--;)null!=y[a]&&("function"==typeof i.type&&null!=y[a].o&&y[a].o==i.u&&(i.u=S(e,a+1)),function t(n,i,e){var r,o;if(x.unmount&&x.unmount(n),!(r=n.ref)||r.current&&r.current!==n.o||J(r,null,i),null!=(r=n.c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){x.o(t,i)}r.base=r.m=null}if(r=n.n)for(o=0;o<r.length;o++)r[o]&&t(r[o],i,"function"!=typeof n.type);e||null==n.o||F(n.o),n.o=n.u=void 0}(y[a],y[a]));if(g)for(a=0;a<g.length;a++)J(g[a],g[++a],g[++a])}function B(t,n,i,e,r,o){var u,l,s;if(void 0!==n.u)u=n.u,n.u=void 0;else if(null==i||r!=o||null==r.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(r),u=null;else{for(l=o,s=0;(l=l.nextSibling)&&s<e.length;s+=2)if(l==r)break t;t.insertBefore(r,o),u=o}return void 0!==u?u:r.nextSibling}function G(t,n,i){"-"===n[0]?t.setProperty(n,i):t[n]=null==i?"":"number"!=typeof i||C.test(n)?i:i+"px"}function _(t,n,i,e,r){var o;t:if("style"===n)if("string"==typeof i)t.style.cssText=i;else{if("string"==typeof e&&(t.style.cssText=e=""),e)for(n in e)i&&n in i||G(t.style,n,"");if(i)for(n in i)e&&i[n]===e[n]||G(t.style,n,i[n])}else if("o"===n[0]&&"n"===n[1])o=n!==(n=n.replace(/Capture$/,"")),n=(n.toLowerCase()in t?n.toLowerCase():n).slice(2),t.l||(t.l={}),(t.l[n+o]=i)?e||t.addEventListener(n,o?V:K,o):t.removeEventListener(n,o?V:K,o);else if("dangerouslySetInnerHTML"!==n){if(r)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&n in t)try{t[n]=null==i?"":i;break t}catch(t){}"function"!=typeof i&&(null!=i&&(!1!==i||"a"===n[0]&&"r"===n[1])?t.setAttribute(n,i):t.removeAttribute(n))}}function K(t){this.l[t.type+!1](x.event?x.event(t):t)}function V(t){this.l[t.type+!0](x.event?x.event(t):t)}function w(t,n,i,e,r,o,u,l,s){var c,a,f,h,d,v,p,g,y,b,m,w=n.type;if(void 0===n.constructor){null!=i.f&&(s=i.f,l=n.o=i.o,n.f=null,o=[l]),(c=x.e)&&c(n);try{t:if("function"==typeof w){if(g=n.props,y=(c=w.contextType)&&e[c.c],b=c?y?y.props.value:c.i:e,i.c?p=(a=n.c=i.c).i=a.k:("prototype"in w&&w.prototype.render?n.c=a=new w(g,b):(n.c=a=new O(g,b),a.constructor=w,a.render=Q),y&&y.sub(a),a.props=g,a.state||(a.state={}),a.context=b,a.w=e,f=a.u=!0,a.f=[]),null==a.M&&(a.M=a.state),null!=w.getDerivedStateFromProps&&(a.M==a.state&&(a.M=j({},a.M)),j(a.M,w.getDerivedStateFromProps(g,a.M))),h=a.props,d=a.state,f)null==w.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.f.push(a.componentDidMount);else{if(null==w.getDerivedStateFromProps&&g!==h&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(g,b),!a.o&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(g,a.M,b)||n.d===i.d){a.props=g,a.state=a.M,n.d!==i.d&&(a.u=!1),(a.d=n).o=i.o,n.n=i.n,n.n.forEach(function(t){t&&(t.i=n)}),a.f.length&&u.push(a);break t}null!=a.componentWillUpdate&&a.componentWillUpdate(g,a.M,b),null!=a.componentDidUpdate&&a.f.push(function(){a.componentDidUpdate(h,d,v)})}a.context=b,a.props=g,a.state=a.M,(c=x.p)&&c(n),a.u=!1,a.d=n,a.m=t,c=a.render(a.props,a.state,a.context),a.state=a.M,null!=a.getChildContext&&(e=j(j({},e),a.getChildContext())),f||null==a.getSnapshotBeforeUpdate||(v=a.getSnapshotBeforeUpdate(h,d)),m=null!=c&&c.type===I&&null==c.key?c.props.children:c,q(t,Array.isArray(m)?m:[m],n,i,e,r,o,u,l,s),a.base=n.o,n.f=null,a.f.length&&u.push(a),p&&(a.k=a.i=null),a.o=!1}else null==o&&n.d===i.d?(n.n=i.n,n.o=i.o):n.o=function(t,n,i,e,r,o,u,l){var s,c,a,f=i.props,h=n.props,d=n.type,v=0;if("svg"===d&&(r=!0),null!=o)for(;v<o.length;v++)if((s=o[v])&&"setAttribute"in s==!!d&&(d?s.localName===d:3===s.nodeType)){t=s,o[v]=null;break}if(null==t){if(null===d)return document.createTextNode(h);t=r?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),o=null,l=!1}if(null===d)f===h||l&&t.data===h||(t.data=h);else{if(o=o&&k.call(t.childNodes),c=(f=i.props||M).dangerouslySetInnerHTML,a=h.dangerouslySetInnerHTML,!l){if(null!=o)for(f={},v=0;v<t.attributes.length;v++)f[t.attributes[v].name]=t.attributes[v].value;!a&&!c||a&&(c&&a.j==c.j||a.j===t.innerHTML)||(t.innerHTML=a&&a.j||"")}if(function(t,n,i,e,r){for(var o in i)"children"===o||"key"===o||o in n||_(t,o,null,i[o],e);for(o in n)r&&"function"!=typeof n[o]||"children"===o||"key"===o||"value"===o||"checked"===o||i[o]===n[o]||_(t,o,n[o],i[o],e)}(t,h,f,r,l),a)n.n=[];else if(v=n.props.children,q(t,Array.isArray(v)?v:[v],n,i,e,r&&"foreignObject"!==d,o,u,o?o[0]:i.n&&S(i,0),l),null!=o)for(v=o.length;v--;)null!=o[v]&&F(o[v]);l||("value"in h&&void 0!==(v=h.value)&&(v!==t.value||"progress"===d&&!v||"option"===d&&v!==f.value)&&_(t,"value",v,f.value,!1),"checked"in h&&void 0!==(v=h.checked)&&v!==t.checked&&_(t,"checked",v,f.checked,!1))}return t}(i.o,n,i,e,r,o,u,s);(c=x.diffed)&&c(n)}catch(t){n.d=null,!s&&null==o||(n.o=l,n.f=!!s,o[o.indexOf(l)]=null),x.o(t,n,i)}}}function Z(t,n){x.c&&x.c(n,t),t.some(function(n){try{t=n.f,n.f=[],t.some(function(t){t.call(n)})}catch(t){x.o(t,n.d)}})}function J(t,n,i){try{"function"==typeof t?t(n):t.current=n}catch(t){x.o(t,i)}}function Q(t,n,i){return this.constructor(t,i)}function U(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(){return(r=Object.assign||function(t){for(var n=arguments,i=1;i<arguments.length;i++){var e,r=n[i];for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}k=W.slice,x={o:function(n,t,i,e){for(var r,o,u;t=t.i;)if((r=t.c)&&!r.i)try{if((o=r.constructor)&&null!=o.getDerivedStateFromError&&(r.setState(o.getDerivedStateFromError(n)),u=r.u),null!=r.componentDidCatch&&(r.componentDidCatch(n,e||{}),u=r.u),u)return r.k=r}catch(t){n=t}throw n}},P=0,O.prototype.setState=function(t,n){var i=null!=this.M&&this.M!==this.state?this.M:this.M=j({},this.state);(t="function"==typeof t?t(j({},i),this.props):t)&&j(i,t),null!=t&&this.d&&(n&&this.f.push(n),L(this))},O.prototype.forceUpdate=function(t){this.d&&(this.o=!0,t&&this.f.push(t),L(this))},O.prototype.render=I,n=[],$="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i.p=0;var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",t="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",X=new RegExp("rgb"+e),Y=new RegExp("rgba"+t),tt=new RegExp("hsl"+e),nt=new RegExp("hsla"+t),e="^(?:#?|0x?)",t="([0-9a-fA-F]{1})",o="([0-9a-fA-F]{2})",it=new RegExp(e+t+t+t+"$"),et=new RegExp(e+t+t+t+t+"$"),rt=new RegExp(e+o+o+o+"$"),ot=new RegExp(e+o+o+o+o+"$"),u=Math.round,ut=Math.floor;function c(t,n,i){return Math.min(Math.max(t,n),i)}function l(t,n){var i=-1<t.indexOf("%"),t=parseFloat(t);return i?n/100*t:t}function s(t){return parseInt(t,16)}function a(t){return t.toString(16).padStart(2,"0")}var v=function(){function o(t,n){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=n,this.initialValue=r({},this.$)}var t,n,i=o.prototype;return i.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof o?this.hsva=t.hsva:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t&&(this.kelvin=t.kelvin)}},i.setChannel=function(t,n,i){this[t]=r({},this[t],((t={})[n]=i,t))},i.reset=function(){this.hsva=this.initialValue},i.clone=function(){return new o(this)},i.unbind=function(){this.onChange=void 0},o.hsvToRgb=function(t){var n=t.h/60,i=t.s/100,t=t.v/100,e=ut(n),n=n-e,r=t*(1-i),o=t*(1-n*i),n=t*(1-(1-n)*i),i=e%6,e=[n,t,t,o,r,r][i],u=[r,r,n,t,t,o][i];return{r:c(255*[t,o,r,r,n,t][i],0,255),g:c(255*e,0,255),b:c(255*u,0,255)}},o.rgbToHsv=function(t){var n=t.r/255,i=t.g/255,e=t.b/255,t=Math.max(n,i,e),r=Math.min(n,i,e),o=t-r,u=0,l=t,s=0===t?0:o/t;switch(t){case r:u=0;break;case n:u=(i-e)/o+(i<e?6:0);break;case i:u=(e-n)/o+2;break;case e:u=(n-i)/o+4}return{h:60*u%360,s:c(100*s,0,100),v:c(100*l,0,100)}},o.hsvToHsl=function(t){var n=t.s/100,i=t.v/100,e=(2-n)*i,r=e<=1?e:2-e;return{h:t.h,s:c(100*(r<1e-9?0:n*i/r),0,100),l:c(50*e,0,100)}},o.hslToHsv=function(t){var n=2*t.l,i=t.s*(n<=100?n:200-n)/100;return{h:t.h,s:c(100*(n+i<1e-9?0:2*i/(n+i)),0,100),v:c((n+i)/2,0,100)}},o.kelvinToRgb=function(t){var n,i,e,t=t/100;return(t<66||255<(n=(n=351.97690566805693+.114206453784165*(n=t-55)-40.25366309332127*Math.log(n))<0?0:n))&&(n=255),t<66?255<(i=(i=-155.25485562709179-.44596950469579133*(i=t-2)+104.49216199393888*Math.log(i))<0?0:i)&&(i=255):255<(i=(i=325.4494125711974+.07943456536662342*(i=t-50)-28.0852963507957*Math.log(i))<0?0:i)&&(i=255),66<=t?e=255:t<=20?e=0:255<(e=(e=.8274096064007395*(e=t-10)-254.76935184120902+115.67994401066147*Math.log(e))<0?0:e)&&(e=255),{r:n,b:e,g:i}},o.rgbToKelvin=function(t){for(var n,i,e=1e3,r=4e4;.4<r-e;)(i=o.kelvinToRgb(n=(r+e)/2)).b/i.r>=t.b/t.r?r=n:e=n;return n},i=o,(t=[{key:"hsv",get:function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},set:function(t){var n=this.$;if(t=r({},n,t),this.onChange){var i,e={h:!1,v:!1,s:!1,a:!1};for(i in n)e[i]=t[i]!=n[i];this.$=t,(e.h||e.s||e.v||e.a)&&this.onChange(this,e)}else this.$=t}},{key:"hsva",get:function(){return r({},this.$)},set:function(t){this.hsv=t}},{key:"hue",get:function(){return this.$.h},set:function(t){this.hsv={h:t}}},{key:"saturation",get:function(){return this.$.s},set:function(t){this.hsv={s:t}}},{key:"value",get:function(){return this.$.v},set:function(t){this.hsv={v:t}}},{key:"alpha",get:function(){return this.$.a},set:function(t){this.hsv=r({},this.hsv,{a:t})}},{key:"kelvin",get:function(){return u(o.rgbToKelvin(this.raw_rgb))},set:function(t){this.rgb=o.kelvinToRgb(t)}},{key:"red",get:function(){return this.rgb.r},set:function(t){this.rgb=r({},this.rgb,{r:t})}},{key:"green",get:function(){return this.rgb.g},set:function(t){this.rgb=r({},this.rgb,{g:t})}},{key:"blue",get:function(){return this.rgb.b},set:function(t){this.rgb=r({},this.rgb,{b:t})}},{key:"rgb",get:function(){var t=o.hsvToRgb(this.$),n=t.r,i=t.g,t=t.b;return{r:u(n),g:u(i),b:u(t)}},set:function(t){this.hsv=r({},o.rgbToHsv(t),{a:void 0===t.a?this.alpha:t.a})}},{key:"raw_rgb",get:function(){var t=o.hsvToRgb(this.$);return{r:t.r,g:t.g,b:t.b}}},{key:"rgba",get:function(){return r({},this.rgb,{a:this.alpha})},set:function(t){this.rgb=t}},{key:"hsl",get:function(){var t=o.hsvToHsl(this.$),n=t.h,i=t.s,t=t.l;return{h:u(n),s:u(i),l:u(t)}},set:function(t){this.hsv=r({},o.hslToHsv(t),{a:void 0===t.a?this.alpha:t.a})}},{key:"hsla",get:function(){return r({},this.hsl,{a:this.alpha})},set:function(t){this.hsl=t}},{key:"rgbString",get:function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},set:function(t){var n,i,e,r,o=1;if((n=X.exec(t))?(i=l(n[1],255),e=l(n[2],255),r=l(n[3],255)):(n=Y.exec(t))&&(i=l(n[1],255),e=l(n[2],255),r=l(n[3],255),o=l(n[4],1)),!n)throw new Error("Invalid rgb string");this.rgb={r:i,g:e,b:r,a:o}}},{key:"rgbaString",get:function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},set:function(t){this.rgbString=t}},{key:"hexString",get:function(){var t=this.rgb;return"#"+a(t.r)+a(t.g)+a(t.b)},set:function(t){var n,i,e,r,o=255;if((n=it.exec(t))?(i=17*s(n[1]),e=17*s(n[2]),r=17*s(n[3])):(n=et.exec(t))?(i=17*s(n[1]),e=17*s(n[2]),r=17*s(n[3]),o=17*s(n[4])):(n=rt.exec(t))?(i=s(n[1]),e=s(n[2]),r=s(n[3])):(n=ot.exec(t))&&(i=s(n[1]),e=s(n[2]),r=s(n[3]),o=s(n[4])),!n)throw new Error("Invalid hex string");this.rgb={r:i,g:e,b:r,a:o/255}}},{key:"hex8String",get:function(){var t=this.rgba;return"#"+a(t.r)+a(t.g)+a(t.b)+a(ut(255*t.a))},set:function(t){this.hexString=t}},{key:"hslString",get:function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},set:function(t){var n,i,e,r,o=1;if((n=tt.exec(t))?(i=l(n[1],360),e=l(n[2],100),r=l(n[3],100)):(n=nt.exec(t))&&(i=l(n[1],360),e=l(n[2],100),r=l(n[3],100),o=l(n[4],1)),!n)throw new Error("Invalid hsl string");this.hsl={h:i,s:e,l:r,a:o}}},{key:"hslaString",get:function(){var t=this.hsla;return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},set:function(t){this.hslString=t}}])&&U(i.prototype,t),n&&U(i,n),Object.defineProperty(i,"prototype",{writable:!1}),o}();function lt(t){var n,i=t.sliderSize,t="vertical"===t.layoutDirection?(n=30,12):(n=i<=30?26:i,i<=30?10:12);return{inputWidth:n,inputHeight:18,fontSize:t}}function st(t,n){function i(t,n,i){return Math.min(Math.max(t,n),i)}switch(t.sliderType){case"hue":return i(n,0,360);case"saturation":case"value":return i(n,0,100);case"red":case"green":case"blue":return i(n,0,255);case"alpha":return i(n,0,1);case"kelvin":return i(n,t.minTemperature,t.maxTemperature)}}function f(t){var n,i,e,r=t.width,o=t.sliderSize,u=t.borderWidth,l=t.handleRadius,s=t.padding,c=t.sliderShape,a="horizontal"===t.layoutDirection;return t.sliderLength?e=t.sliderLength:(e=r-l,t.showInput&&(n=(i=lt(t)).inputWidth,i=i.inputHeight,e=e-(a?i:n)-3),t.showLabel&&(e=e-(a?12:10)-3)),o=null!=o?o:2*s+2*l,"circle"===c?{handleStart:t.padding+t.handleRadius,handleRange:r-2*s-2*l,width:r,height:r,cx:r/2,cy:r/2,radius:r/2-u/2}:{handleStart:o/2,handleRange:e-o,radius:o/2,x:0,y:0,width:a?o:e,height:a?e:o}}function ct(t,n){var i=f(t),e=i.width,r=i.height,o=i.handleRange,i=i.handleStart,u="horizontal"===t.layoutDirection,e=u?e/2:r/2,r=i+function(t,n){var i=n.hsva,e=n.rgb;switch(t.sliderType){case"red":return e.r/2.55;case"green":return e.g/2.55;case"blue":return e.b/2.55;case"alpha":return 100*i.a;case"kelvin":var r=t.minTemperature,o=t.maxTemperature,o=(n.kelvin-r)/(o-r)*100;return Math.max(0,Math.min(o,100));case"hue":return i.h/=3.6;case"saturation":return i.s;default:return i.v}}(t,n)/100*o;return u&&(r=-1*r+o+2*i),{x:u?e:r,y:u?r:e}}function at(t,n){return(t%n+n)%n}var d,ft=2*Math.PI,ht=function(t,n){return Math.sqrt(t*t+n*n)};function dt(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function p(t){var n=t.width/2;return{width:t.width,radius:n-t.borderWidth,cx:n,cy:n}}function vt(t,n,i){var e=t.wheelAngle,t=t.wheelDirection;return i&&"clockwise"===t?n=e+n:"clockwise"===t?n=360-e+n:i&&"anticlockwise"===t?n=e+180-n:"anticlockwise"===t&&(n=e-n),at(n,360)}function pt(t,n,i){var e=p(t),r=e.cx,e=e.cy,o=dt(t),r=(n=r-n,i=e-i,vt(t,Math.atan2(-i,-n)*(360/ft))),e=Math.min(ht(n,i),o);return{h:Math.round(r),s:Math.round(100/o*e)}}function g(t){var n=t.width,i=t.boxHeight;return{width:n,height:null!=i?i:n,radius:t.padding+t.handleRadius}}function gt(t,n,i){var t=g(t),e=t.width,r=t.height,t=t.radius,i=(i-t)/(r-2*t)*100;return{s:Math.max(0,Math.min((n-t)/(e-2*t)*100,100)),v:Math.max(0,Math.min(100-i,100))}}function yt(t,n,i,e){for(var r=0;r<e.length;r++){var o=e[r].x-n,u=e[r].y-i;if(Math.sqrt(o*o+u*u)<t.handleRadius)return r}return null}function bt(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function mt(t,n,i){return t+"-gradient("+n+", "+i.map(function(t){var n=t[0];return t[1]+" "+n+"%"}).join(",")+")"}function y(t){return"string"==typeof t?t:t+"px"}var wt=["mousemove","touchmove","mouseup","touchend"],b=function(n){function t(t){n.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.render=function(t){var n=this.handleEvent.bind(this),n={onMouseDown:n,ontouchstart:n},i="horizontal"===t.layoutDirection,e=null===t.margin?t.sliderMargin:t.margin,r={overflow:"visible",display:i?"inline-flex":"flex"};return 0<t.index&&(r[i?"marginLeft":"marginTop"]=e),h(I,null,t.children(this.uid,n,r))},t.prototype.handleEvent=function(t){var n=this,i=this.props.onInput,e=this.base.getBoundingClientRect(),r=(t.preventDefault(),t.touches?t.changedTouches[0]:t),o=r.clientX-e.left,u=r.clientY-e.top;switch(t.type){case"mousedown":case"touchstart":!1!==i(o,u,0)&&wt.forEach(function(t){document.addEventListener(t,n,{passive:!1})});break;case"mousemove":case"touchmove":i(o,u,1);break;case"mouseup":case"touchend":i(o,u,2),wt.forEach(function(t){document.removeEventListener(t,n,{passive:!1})})}},t}(O);function A(t){var n,i,e,r,o=t.r,u=t.url,l=o,s=o;return h("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{transform:"translate("+y(t.x)+", "+y(t.y)+")",willChange:"transform",top:y(-o),left:y(-o),width:y(2*o),height:y(2*o),position:"absolute",overflow:"visible"}},u&&h("use",Object.assign({xlinkHref:(n=u,d=d||document.getElementsByTagName("base"),i=window.navigator.userAgent,e=/^((?!chrome|android).)*safari/i.test(i),i=/iPhone|iPod|iPad/i.test(i),r=window.location,(e||i)&&0<d.length?r.protocol+"//"+r.host+r.pathname+r.search+n:n)},t.props)),!u&&h("circle",{cx:l,cy:s,r:o,fill:"none","stroke-width":2,stroke:"#000"}),!u&&h("circle",{cx:l,cy:s,r:o-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}A.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};var kt,z,xt,R=0,Mt=[],jt=x.e,It=x.p,Ot=x.diffed,St=x.c,_t=x.unmount;function At(t,n){x.f&&x.f(z,t,R||n),R=0;n=z.I||(z.I={i:[],f:[]});return t>=n.i.length&&n.i.push({}),n.i[t]}function zt(t){return R=1,n=Ht,t=t,(e=At(kt++,2)).t=n,e.c||(e.i=[i?i(t):Ht(void 0,t),function(t){t=e.t(e.i[0],t);e.i[0]!==t&&(e.i=[t,e.i[1]],e.c.setState({}))}],e.c=z),e.i;var n,i,e}function Rt(t,n){return R=8,i=function(){return t},n=n,o=At(kt++,7),e=o.I,r=n,e&&e.length===r.length&&!r.some(function(t,n){return t!==e[n]})||(o.i=i(),o.I=n,o.f=i),o.i;var i,e,r,o}function Nt(){for(var n;n=Mt.shift();)if(n.m)try{n.I.f.forEach(N),n.I.f.forEach(Tt),n.I.f=[]}catch(t){n.I.f=[],x.o(t,n.d)}}x.e=function(t){z=null,jt&&jt(t)},x.p=function(t){It&&It(t),kt=0;t=(z=t.c).I;t&&(t.f.forEach(N),t.f.forEach(Tt),t.f=[])},x.diffed=function(t){Ot&&Ot(t);t=t.c;t&&t.I&&t.I.f.length&&(1!==Mt.push(t)&&xt===x.requestAnimationFrame||((xt=x.requestAnimationFrame)||function(t){function n(){clearTimeout(e),Et&&cancelAnimationFrame(i),setTimeout(t)}var i,e=setTimeout(n,100);Et&&(i=requestAnimationFrame(n))})(Nt)),z=null},x.c=function(t,i){i.some(function(n){try{n.f.forEach(N),n.f=n.f.filter(function(t){return!t.i||Tt(t)})}catch(t){i.some(function(t){t.f&&(t.f=[])}),i=[],x.o(t,n.d)}}),St&&St(t,i)},x.unmount=function(t){_t&&_t(t);var n,t=t.c;t&&t.I&&(t.I.i.forEach(function(t){try{N(t)}catch(t){n=t}}),n&&x.o(n,t.d))};var Et="function"==typeof requestAnimationFrame;function N(t){var n=z,i=t.c;"function"==typeof i&&(t.c=void 0,i()),z=n}function Tt(t){var n=z;t.c=t.i(),z=n}function Ht(t,n){return"function"==typeof n?n(t):n}function Pt(o){var t=o.disabled,u=o.sliderType,n=lt(o),i=n.inputWidth,n=n.fontSize,l=o.activeColor,e=zt(l[o.sliderType]),r=e[0],e=e[1];return e("alpha"===u?l[o.sliderType].toFixed(2):Math.round(l[o.sliderType])),h("div",{className:"IroSliderValue"},h("input",{onKeyPress:Rt(function(t){r=(n=t).target,i=parseInt(r.value);var n,i,e,r=/^([0-9]|\.)$/i.test(n.key)?(i=r.value.toString(),void 0!==r.selectionStart?i=i.substring(0,r.selectionStart)+n.key.toString()+i.substring(r.selectionEnd):i+=n.key.toString(),+i):(n.preventDefault(),i);return"kelvin"===u?(n=r.toString().length,i=o.minTemperature.toString().length,(e=o.maxTemperature.toString().length)<n?(t.preventDefault(),l[o.sliderType]=o.maxTemperature):i<=n&&(r<o.minTemperature?e===i&&(t.preventDefault(),l[o.sliderType]=o.minTemperature):r>o.maxTemperature?(t.preventDefault(),l[o.sliderType]=o.maxTemperature):(t.preventDefault(),l[o.sliderType]=r))):(t.preventDefault(),l[o.sliderType]=st(o,r)),r},[e,o.sliderType]),onPaste:Rt(function(t){t.preventDefault();n=o,t=(t=t).clipboardData.getData("text");var n=/^[+]?([.]\d+|\d+([.]\d+)?)$/i.test(t)?st(n,+t):0;return l[o.sliderType]=n},[e,o.sliderType]),className:"IroSliderInput",style:{display:"inline-block",width:"kelvin"===u?"40px":i,height:"18px",fontSize:n,padding:"2px"},type:"text",disabled:t,value:r}))}function $t(t){var n=t.sliderType[0].toUpperCase();return h("div",{className:"IroSliderLabel",style:{display:"inline-block",width:"10px",height:"12px",lineHeight:"12px",fontSize:"horizontal"===t.layoutDirection?"12px":"14px"}},n)}function E(e){var t=e.activeIndex,r=void 0!==t&&t<e.colors.length?e.colors[t]:e.color,t=f(e),o=t.width,u=t.height,l=t.radius,s=ct(e,r),c=function(t,n){var i=n.hsv,e=n.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+e.g+","+e.b+")"],[100,"rgb(255,"+e.g+","+e.b+")"]];case"green":return[[0,"rgb("+e.r+",0,"+e.b+")"],[100,"rgb("+e.r+",255,"+e.b+")"]];case"blue":return[[0,"rgb("+e.r+","+e.g+",0)"],[100,"rgb("+e.r+","+e.g+",255)"]];case"alpha":return[[0,"rgba("+e.r+","+e.g+","+e.b+",0)"],[100,"rgb("+e.r+","+e.g+","+e.b+")"]];case"kelvin":for(var r=[],o=t.minTemperature,u=t.maxTemperature,l=u-o,s=o,c=0;s<u;s+=l/8,c+=1){var a=v.kelvinToRgb(s),f=a.r,h=a.g,a=a.b;r.push([12.5*c,"rgb("+f+","+h+","+a+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var o=v.hsvToHsl({h:i.h,s:0,v:i.v}),d=v.hsvToHsl({h:i.h,s:100,v:i.v});return[[0,"hsl("+o.h+","+o.s+"%,"+o.l+"%)"],[100,"hsl("+d.h+","+d.s+"%,"+d.l+"%)"]];default:o=v.hsvToHsl({h:i.h,s:i.s,v:100});return[[0,"#000"],[100,"hsl("+o.h+","+o.s+"%,"+o.l+"%)"]]}}(e,r);return h(b,Object.assign({},e,{onInput:function(t,n,i){t=function(t,n,i){var e=(r=f(t)).handleRange,r=r.handleStart,i="horizontal"===t.layoutDirection?-1*i+e+r:n-r,o=(i=Math.max(Math.min(i,e),0),Math.round(100/e*i));switch(t.sliderType){case"kelvin":var u=t.minTemperature;return u+o/100*(t.maxTemperature-u);case"alpha":return o/100;case"hue":return 3.6*o;case"red":case"blue":case"green":return 2.55*o;default:return o}}(e,t,n),e.parent.inputActive=!0,r[e.sliderType]=t,"kelvin"===e.sliderType&&(r.O=t),e.onInput(i,e.id)}}),function(t,n,i){return h("div",{className:"IroSliderWrapper",style:Object.assign({},{width:"vertical"===e.layoutDirection?y(e.width):"unset",height:"horizontal"===e.layoutDirection?y(e.width):"unset",flexDirection:"horizontal"===e.layoutDirection?"column":"row",alignItems:"center",justifyContent:"space-between"},i)},h("div",Object.assign({},n,{className:"IroSlider",style:{position:"relative",display:"block",width:y(o),height:y(u),borderRadius:y(l),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"}}),h("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:y(l),background:mt("linear","horizontal"===e.layoutDirection?"to top":"to right",c)},bt(e))}),h(A,{isActive:!0,index:r.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:s.x,y:s.y})),e.showLabel&&h($t,{sliderType:e.sliderType,layoutDirection:e.layoutDirection,handleRadius:e.handleRadius}),e.showInput&&h(Pt,{disabled:e.disabled,sliderType:e.sliderType,sliderSize:e.sliderSize,activeColor:r,handleRadius:e.handleRadius,layoutDirection:e.layoutDirection,minTemperature:e.minTemperature,maxTemperature:e.maxTemperature}))})}function Dt(r){var t=g(r),e=t.width,o=t.height,u=t.radius,l=r.colors,s=r.parent,t=r.activeIndex,c=void 0!==t&&t<r.colors.length?r.colors[t]:r.color,a=[[[0,"#fff"],[100,"hsl("+c.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]],f=l.map(function(t){return t=t,i=(n=g(n=r)).width,e=n.height,n=n.radius,t=t.hsv,e-=2*n,{x:n+t.s/100*(i-2*n),y:n+(e-t.v/100*e)};var n,i,e});return h(b,Object.assign({},r,{onInput:function(t,n,i){var e;0===i?null!==(e=yt(r,t,n,f))?s.setActiveColor(e):(s.inputActive=!0,c.hsv=gt(r,t,n),r.onInput(i,r.id)):1===i&&(s.inputActive=!0,c.hsv=gt(r,t,n)),r.onInput(i,r.id)}}),function(t,n,i){return h("div",Object.assign({},n,{className:"IroBox",style:Object.assign({},{width:y(e),height:y(o),position:"relative"},i)}),h("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:y(u)},bt(r),{background:mt("linear","to bottom",a[1])+","+mt("linear","to right",a[0])})}),l.filter(function(t){return t!==c}).map(function(t){return h(A,{isActive:!1,index:t.index,fill:t.hslString,r:r.handleRadius,url:r.handleSvg,props:r.handleProps,x:f[t.index].x,y:f[t.index].y})}),h(A,{isActive:!0,index:c.index,fill:c.hslString,r:r.activeHandleRadius||r.handleRadius,url:r.handleSvg,props:r.handleProps,x:f[c.index].x,y:f[c.index].y}))})}Pt.defaultProps={disabled:!1},E.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});function Wt(u){var e=p(u).width,r=u.colors,l=(u.borderWidth,u.parent),s=u.color,o=s.hsv,c=r.map(function(t){return t=(t=t).hsv,n=(i=p(u)).cx,i=i.cy,e=dt(u),r=(180+vt(u,t.h,!0))*(ft/360),t=t.s/100*e,e="clockwise"===u.wheelDirection?-1:1,{x:n+t*Math.cos(r)*e,y:i+t*Math.sin(r)*e};var n,i,e,r}),a={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};return h(b,Object.assign({},u,{onInput:function(t,n,i){if(0===i){if(r=(o=p(e=u)).cx,o=o.cy,e=u.width/2,!(ht(r-t,o-n)<e))return!1;r=yt(u,t,n,c);null!==r?l.setActiveColor(r):(l.inputActive=!0,s.hsv=pt(u,t,n),u.onInput(i,u.id))}else 1===i&&(l.inputActive=!0,s.hsv=pt(u,t,n));var e,r,o;u.onInput(i,u.id)}}),function(t,n,i){return h("div",Object.assign({},n,{className:"IroWheel",style:Object.assign({},{width:y(e),height:y(e),position:"relative"},i)}),h("div",{className:"IroWheelHue",style:Object.assign({},a,{transform:"rotateZ("+(u.wheelAngle+90)+"deg)",background:"clockwise"===u.wheelDirection?"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)":"conic-gradient(red, magenta, blue, aqua, lime, yellow, red)"})}),h("div",{className:"IroWheelSaturation",style:Object.assign({},a,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),u.wheelLightness&&h("div",{className:"IroWheelLightness",style:Object.assign({},a,{background:"#000",opacity:1-o.v/100})}),h("div",{className:"IroWheelBorder",style:Object.assign({},a,bt(u))}),r.filter(function(t){return t!==s}).map(function(t){return h(A,{isActive:!1,index:t.index,fill:t.hslString,r:u.handleRadius,url:u.handleSvg,props:u.handleProps,x:c[t.index].x,y:c[t.index].y})}),h(A,{isActive:!0,index:s.index,fill:s.hslString,r:u.activeHandleRadius||u.handleRadius,url:u.handleSvg,props:u.handleProps,x:c[s.index].x,y:c[s.index].y}))})}var T,Ct,t=function(i){function t(t){var n=this;i.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id,(0<t.colors.length?t.colors:[t.color]).forEach(function(t){return n.addColor(t)}),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.addColor=function(t,n){void 0===n&&(n=this.colors.length);t=new v(t,this.onColorChange.bind(this));this.colors.splice(n,0,t),this.colors.forEach(function(t,n){return t.index=n}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",t)},t.prototype.removeColor=function(t){t=this.colors.splice(t,1)[0];t.unbind(),this.colors.forEach(function(t,n){return t.index=n}),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},t.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(t,n){var i=this;void 0===n&&(n=0),this.colors.forEach(function(t){return t.unbind()}),this.colors=[],t.forEach(function(t){return i.addColor(t)}),this.setActiveColor(n),this.emit("color:setAll",this.colors)},t.prototype.on=function(t,n){var i=this,e=this.events;(Array.isArray(t)?t:[t]).forEach(function(t){(e[t]||(e[t]=[])).push(n),i.deferredEvents[t]&&(i.deferredEvents[t].forEach(function(t){n.apply(null,t)}),i.deferredEvents[t]=[])})},t.prototype.off=function(t,n){var i=this;(Array.isArray(t)?t:[t]).forEach(function(t){t=i.events[t];t&&t.splice(t.indexOf(n),1)})},t.prototype.emit=function(t){for(var n=this,i=[],e=arguments.length-1;0<e--;)i[e]=arguments[e+1];var r=this.activeEvents;!!r.hasOwnProperty(t)&&r[t]||(r[t]=!0,(this.events[t]||[]).forEach(function(t){return t.apply(n,i)}),r[t]=!1)},t.prototype.deferredEmit=function(t){for(var n=[],i=arguments.length-1;0<i--;)n[i]=arguments[i+1];var e=this.deferredEvents;this.emit.apply(this,[t].concat(n)),(e[t]||(e[t]=[])).push(n)},t.prototype.setOptions=function(t){this.setState(t)},t.prototype.resize=function(t){this.setOptions({width:t})},t.prototype.reset=function(){this.colors.forEach(function(t){return t.reset()}),this.setState({colors:this.colors})},t.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(t,n){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,n)),this.emit("color:change",t,n)},t.prototype.emitInputEvent=function(t,n){0===t?this.emit("input:start",this.color,n):1===t?this.emit("input:move",this.color,n):2===t&&this.emit("input:end",this.color,n)},t.prototype.render=function(t,e){var r=this,n=e.layout;return Array.isArray(n)||(n=[{component:Wt},{component:E}],e.transparency&&n.push({component:E,options:{sliderType:"alpha"}})),h("div",{class:"IroColorPicker",id:e.id,style:{display:e.display,flexDirection:"horizontal"===t.layoutDirection?"row":"column"}},n.map(function(t,n){var i=t.component,t=t.options;return h(i,Object.assign({},e,t,{ref:void 0,onInput:r.emitInputEvent.bind(r),parent:r,index:n}))}))},t}(O),e=(t.defaultProps=Object.assign({},{width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},{colors:[],display:"flex",id:null,layout:"default",margin:null}),T=t,H.prototype=T.prototype,Object.assign(H,T),H.S=T,H);function H(n,t){var i,e,r,o,u,l=document.createElement("div");function s(){var t=n instanceof Element?n:document.querySelector(n);t.appendChild(i.base),i.onMount(t)}return t=h(T,Object.assign({},{ref:function(t){return i=t}},t)),l=l,x.i&&x.i(t,l),o=(r="function"==typeof e)?null:e&&e.n||l.n,u=[],w(l,t=(!r&&e||l).n=h(I,null,[t]),o||M,M,void 0!==l.ownerSVGElement,!r&&e?[e]:!o&&l.firstChild?k.call(l.childNodes):null,u,!r&&e?e:o?o.o:l.firstChild,r),Z(u,t),"loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s),i}return(o=Ct=Ct||{}).version="5.5.2",o.Color=v,o.ColorPicker=e,(o=o.ui||(o.ui={})).h=h,o.ComponentBase=b,o.Handle=A,o.Slider=E,o.Wheel=Wt,o.Box=Dt,Ct});
