{"version":3,"file":"iro.min.js","sources":["../node_modules/preact/dist/preact.mjs","../src/util/dom.js","../src/ui/component.js","../src/ui/marker.js","../src/ui/wheel.js","../src/modules/color.js","../src/ui/slider.js","../src/modules/stylesheet.js","../src/modules/colorPicker.js","../src/iro.js"],"sourcesContent":["var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","const EVENT_READYSTATE_CHANGE = \"readystatechange\";\nconst READYSTATE_COMPLETE = \"complete\";\n\n/**\n  * @desc listen to one or more events on an element\n  * @param {Element} el target element\n  * @param {Array} eventList the events to listen to\n  * @param {Function} callback the event callback function\n  * @param {Object} params params to pass to addEventListener\n*/\nexport function listen(el, eventList, callback, params={}) {\n  for (var i = 0; i < eventList.length; i++) {\n    el.addEventListener(eventList[i], callback, params);\n  }\n};\n\n/**\n* @desc remove an event listener on an element\n* @param {Element} el target element\n* @param {Array} eventList the events to remove\n* @param {Function} callback the event callback function\n*/\nexport function unlisten(el, eventList, callback) {\n  for (var i = 0; i < eventList.length; i++) {\n    el.removeEventListener(eventList[i], callback);\n  }\n};\n\n/**\n* @desc call fn callback when the page document is ready\n* @param {Function} callback callback function to be called\n*/\nexport function whenReady(callback) {\n  var _this = this;\n  if (document.readyState == READYSTATE_COMPLETE) {\n    callback();\n  }\n  else {\n    listen(document, [EVENT_READYSTATE_CHANGE], function stateChange(e) {\n      if (document.readyState == READYSTATE_COMPLETE) {\n        callback();\n        unlisten(document, [EVENT_READYSTATE_CHANGE], stateChange);\n      }\n    });\n  }\n};","import { Component } from \"preact\";\nimport { listen, unlisten } from \"util/dom\";\n\nconst EVENT_MOUSEDOWN = \"mousedown\",\n      EVENT_MOUSEMOVE = \"mousemove\",\n      EVENT_MOUSEUP = \"mouseup\",\n      EVENT_TOUCHSTART = \"touchstart\",\n      EVENT_TOUCHMOVE = \"touchmove\",\n      EVENT_TOUCHEND = \"touchend\";\n\nexport default class IroComponent extends Component {\n\n  componentDidMount() {\n    if (this.root) listen(this.root, [EVENT_MOUSEDOWN, EVENT_TOUCHSTART], this, { passive:false });\n  }\n\n  componentWillUnmount() {\n    if (this.root) unlisten(this.root, [EVENT_MOUSEDOWN, EVENT_TOUCHSTART], this);\n  }\n\n  handleEvent(e) {\n    const { root } = this;\n    // Detect if the event is a touch event by checking if it has the `touches` property\n    // If it is a touch event, use the first touch input\n    e.preventDefault();\n    var point = e.touches ? e.changedTouches[0] : e;\n    var x = point.clientX;\n    var y = point.clientY;\n    // Get the screen position of the component\n    var rect = root.getBoundingClientRect();\n\n    var hsv;  \n    switch (e.type) {\n      case EVENT_MOUSEDOWN:\n      case EVENT_TOUCHSTART:\n        listen(document, [EVENT_MOUSEMOVE, EVENT_TOUCHMOVE, EVENT_MOUSEUP, EVENT_TOUCHEND], this, { passive:false });\n        hsv = this.input(x, y, rect, \"START\");\n        // parent.emit(\"input:start\", parent.color);\n        break;\n      case EVENT_MOUSEMOVE:\n      case EVENT_TOUCHMOVE:\n        // Use the position to update the picker color\n        hsv = this.input(x, y, rect, \"MOVE\");\n        break;\n      case EVENT_MOUSEUP:\n      case EVENT_TOUCHEND:\n        hsv = this.input(x, y, rect, \"END\");\n        // parent.emit(\"input:end\", parent.color);\n        unlisten(document, [EVENT_MOUSEMOVE, EVENT_TOUCHMOVE, EVENT_MOUSEUP, EVENT_TOUCHEND], this);\n        break;\n    }\n    // if (hsv) parent.color.hsv = hsv;\n  }\n\n  input(x, y, rect, type) {\n\n  }\n\n}","import { h } from \"preact\";\n\nexport default function IroMarker(props) {\n  return (\n    <svg class=\"iro__marker\" x={ props.x } y={ props.y } overflow=\"visible\">\n      <circle \n        class=\"iro__marker__outer\" \n        x={ 0 }\n        y={ 0 }\n        r={ props.r }\n        fill=\"none\"\n        stroke-width={ 5 }\n        stroke=\"#000\"\n      />\n      <circle \n        class=\"iro__marker__inner\"\n        x={ 0 }\n        y={ 0 }\n        r={ props.r }\n        fill=\"none\"\n        stroke-width={ 7 }\n        stroke=\"#fff\"\n      />\n    </svg>\n  );\n}\n\nIroMarker.defaultProps = {\n  x: 0,\n  y: 0,\n  r: 8\n};","import { h } from \"preact\";\n\nimport IroComponent from \"ui/component\";\nimport Marker from \"ui/marker\";\n\nfunction arcPath(cx, cy, radius, startAngle, endAngle) {\n  var largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1;\n  startAngle *= Math.PI / 180;\n  endAngle *= Math.PI / 180;\n  var x1 = cx + radius * Math.cos(endAngle);\n  var y1 = cy + radius * Math.sin(endAngle);\n  var x2 = cx + radius * Math.cos(startAngle);\n  var y2 = cy + radius * Math.sin(startAngle);\n  return [\"M\", x1, y1, \"A\", radius, radius, 0, largeArcFlag, 0, x2, y2].join(\" \");\n}\n\nexport default class IroWheel extends IroComponent {\n  \n  render(props) {\n    const hsv = props.hsv;\n    const markerAngle = (props.anticlockwise ? 360 - hsv.h : hsv.h) * (Math.PI / 180);\n    const markerDist = (hsv.s / 100) * props.rMax;\n    const radius = props.radius;\n    const cX = 50;\n    const cY = 50;\n\n    return (\n      <svg class=\"iro__wheel\" x={ props.x } y={ props.y } ref={ el => this.root = el }>\n        <defs>\n          <radialGradient id=\"iroGradient2\">\n            <stop offset=\"0%\" stop-color=\"#fff\" />\n            <stop offset=\"100%\" stop-color=\"#fff\" stop-opacity={ 0 }/>\n          </radialGradient>\n        </defs>\n        <circle \n          class=\"iro__wheel__border\"\n          cx={ cX }\n          cy={ cY }\n          r={ radius }\n          fill=\"none\"\n          stroke={ props.borderColor }\n          stroke-width={ props.borderWidth }\n          vector-effect=\"non-scaling-stroke\"\n        />\n        <g class=\"__hue\" stroke-width={ radius / 2 } fill=\"none\">\n          {new Array(360).fill(0).map((_, hue) => (\n            <path \n              key={ hue }\n              d={ arcPath(cX, cY, radius, hue, hue + 1.5) } \n              stroke={ `hsl(${ props.anticlockwise ? 360 - hue : hue }, 100%, 50%)` }\n            />\n          ))}\n        </g>\n        <circle \n          class=\"iro__wheel__saturation\"\n          cx={ cX }\n          cy={ cY }\n          r={ radius }\n          fill=\"url(#iroGradient2)\"\n        />\n        <circle \n          class=\"iro__wheel__lightness\"\n          cx={ cX }\n          cy={ cY }\n          r={ radius }\n          fill=\"#000\"\n          opacity={ 1 - hsv.v / 100 }\n        />\n        <Marker \n          r={ props.markerRadius }\n          x={ cX + markerDist * Math.cos(markerAngle) }\n          y={ cY + markerDist * Math.sin(markerAngle) }\n        />\n      </svg>\n    );\n  }\n\n  /**\n    * @desc Takes a point at (x, y) and returns HSV values based on this input -- use this to update a color from mouse input\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n    * @return {Object} - new HSV color values (some channels may be missing)\n  */\n  input(x, y, rect, type) {\n    var props = this.props;\n    var rangeMax = 100;\n    var cX = rect.width / 2;\n    var cY = rect.height / 2;\n\n    x = cX - (x - rect.left);\n    y = cY - (y - rect.top);\n\n    var angle = Math.atan2(y, x);\n    // Calculate the hue by converting the angle to radians\n    var hue = Math.round(angle * (180 / Math.PI)) + 180;\n    // Find the point's distance from the center of the wheel\n    // This is used to show the saturation level\n    var dist = Math.min(Math.sqrt(x * x + y * y), rangeMax);\n    \n    hue = (props.anticlockwise ? 360 - hue : hue);\n\n    // Return just the H and S channels, the wheel element doesn't do anything with the L channel\n    return {\n      h: hue,\n      s: Math.round((100 / rangeMax) * dist)\n    };\n  }\n}","var round = Math.round;\nvar floor = Math.floor;\n\n/**\n  * @desc generic parser for hsl / rgb / etc string\n  * @param {String} str - color string\n  * @param {Array} maxValues - max values for each channel (used for calculating percent-based values)\n  * @return {Array} type (rgb | rgba | hsl | hsla) values for each channel\n*/\nfunction parseColorStr(str, maxValues) {\n  var parsed = str.match(/(\\S+)\\((\\d+)(%?)(?:\\D+?)(\\d+)(%?)(?:\\D+?)(\\d+)(%?)(?:\\D+?)?([0-9\\.]+?)?\\)/i),\n      val1 = parseInt(parsed[2]),\n      val2 = parseInt(parsed[4]),\n      val3 = parseInt(parsed[6]);\n  return [\n    parsed[1],\n    parsed[3] == \"%\" ? val1 / 100 * maxValues[0] : val1,\n    parsed[5] == \"%\" ? val2 / 100 * maxValues[1] : val2,\n    parsed[7] == \"%\" ? val3 / 100 * maxValues[2] : val3,\n    parseFloat(parsed[8]) || undefined\n  ];\n};\n\n/**\n  * @desc convert object / string input to color if necessary\n  * @param {Object | String | color} value - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n  * @return {color} color instance\n*/\nfunction getColor(value) {\n  return value instanceof color ? value : new color(value);\n};\n\n/**\n  * @desc clamp value between min and max\n  * @param {Number} value\n  * @param {Number} min\n  * @param {Number} max\n  * @return {Number}\n*/\nfunction clamp(value, min, max) {\n  return value <= min ? min : value >= max ? max : value;\n};\n\n/**\n  * @desc compare values between two objects, returns a object representing changes with true/false values\n  * @param {Object} a\n  * @param {Object} b\n  * @return {Object}\n*/\nfunction compareObjs(a, b) {\n  var changes = {};\n  for (var key in a) changes[key] = b[key] != a[key];\n  return changes;\n};\n\nexport default class color {\n  /**\n    * @constructor color object\n    * @param {Object | String | color} value - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n  */\n  constructor(value) {\n    // The watch callback function for this color will be stored here\n    this._onChange = false;\n    // The default color value\n    this._value = {h: undefined, s: undefined, v: undefined};\n    if (value) this.set(value);\n  }\n\n  /**\n    * @desc mix two colors\n    * @param {Object | String | color} color1 - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Object | String | color} color2 - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Number} weight - closer to 0 = more color1, closer to 100 = more color2\n    * @return {color} color instance\n  */\n  static mix(color1, color2, weight) {\n    var rgb1 = getColor(color1).rgb,\n        rgb2 = getColor(color2).rgb;\n    weight = clamp((weight / 100 || 0.5), 0, 1);\n    return new color({\n      r: floor(rgb1.r + (rgb2.r - rgb1.r) * weight),\n      g: floor(rgb1.g + (rgb2.g - rgb1.g) * weight),\n      b: floor(rgb1.b + (rgb2.b - rgb1.b) * weight),\n    });\n  }\n\n  /**\n    * @desc lighten color by amount\n    * @param {Object | String | color} color - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Number} amount\n    * @return {color} color instance\n  */\n  static lighten(color, amount) {\n    var col = getColor(color),\n        hsv = col.hsv;\n    hsv.v = clamp(hsv.v + amount, 0, 100);\n    col.hsv = hsv;\n    return col;\n  }\n\n  /**\n    * @desc darken color by amount\n    * @param {Object | String | color} color - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Number} amount\n    * @return {color} color instance\n  */\n  static darken(color, amount) {\n    var col = getColor(color),\n        hsv = col.hsv;\n    hsv.v = clamp(hsv.v - amount, 0, 100);\n    col.hsv = hsv;\n    return col;\n  }\n\n  /**\n    * @desc convert hsv object to rgb\n    * @param {Object} hsv - hsv object\n    * @return {Object} rgb object\n  */\n  static hsv2Rgb(hsv) {\n    var r, g, b, i, f, p, q, t;\n    var h = hsv.h/360, s = hsv.s/100, v = hsv.v/100;\n    i = floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n    switch (i % 6) {\n      case 0: r = v, g = t, b = p; break;\n      case 1: r = q, g = v, b = p; break;\n      case 2: r = p, g = v, b = t; break;\n      case 3: r = p, g = q, b = v; break;\n      case 4: r = t, g = p, b = v; break;\n      case 5: r = v, g = p, b = q; break;\n    }\n    return {r: round(r * 255), g: round(g * 255), b: round(b * 255)};\n  }\n\n  /**\n    * @desc convert rgb object to hsv\n    * @param {Object} rgb - rgb object\n    * @return {Object} hsv object\n  */\n  static rgb2Hsv(rgb) {\n    // Modified from https://github.com/bgrins/TinyColor/blob/master/tinycolor.js#L446\n    var r = rgb.r / 255,\n        g = rgb.g / 255,\n        b = rgb.b / 255,\n        max = Math.max(r, g, b),\n        min = Math.min(r, g, b),\n        delta = max - min,\n        hue;\n    switch (max) {\n      case min: hue = 0; break;\n      case r: hue = (g - b) / delta + (g < b ? 6 : 0); break;\n      case g: hue = (b - r) / delta + 2; break;\n      case b: hue = (r - g) / delta + 4; break;\n    }\n    hue /= 6;\n    return {\n      h: hue * 360,\n      s: max == 0 ? 0 : (delta / max) * 100,\n      v: max * 100\n    };\n  }\n\n  /**\n    * @desc convert hsv object to hsl\n    * @param {Object} hsv - hsv object\n    * @return {Object} hsl object\n  */\n  static hsv2Hsl(hsv) {\n    var s = hsv.s / 100,\n        v = hsv.v / 100;\n    var l = 0.5 * v * (2 - s);\n    s = v * s / (1 - Math.abs(2 * l - 1));\n    return {\n      h: hsv.h,\n      s: s * 100 || 0,\n      l: l * 100\n    };\n  }\n\n  /**\n    * @desc convert hsl object to hsv\n    * @param {Object} hsl - hsl object\n    * @return {Object} hsv object\n  */\n  static hsl2Hsv(hsl) {\n    var s = hsl.s / 100,\n    l = hsl.l / 100;\n    l *= 2;\n    s *= (l <= 1) ? l : 2 - l;\n    return {\n      h: hsl.h,\n      s: ((2 * s) / (l + s)) * 100,\n      v: ((l + s) / 2) * 100\n    };\n  }\n\n  /**\n    * @desc convert hsl object to string\n    * @param {Object} hsl - hsl object\n    * @return {Object} hsl string\n  */\n  static hsl2Str(hsl) {\n    return \"hsl\" + (hsl.a ? \"a\" : \"\") + \"(\" + hsl.h + \", \" + hsl.s + \"%, \" + hsl.l + \"%\" + (hsl.a ? \", \" + hsl.a : \"\") + \")\";\n  }\n\n  /**\n    * @desc convert rgb object to string\n    * @param {Object} rgb - rgb object\n    * @return {Object} rgb string\n  */\n  static rgb2Str(rgb) {\n    return \"rgb\" + (rgb.a ? \"a\" : \"\") + \"(\" + rgb.r + \", \" + rgb.g + \", \" + rgb.b + (rgb.a ? \", \" + rgb.a : \"\") + \")\";\n  }\n\n  /**\n    * @desc convert rgb object to hex string\n    * @param {Object} rgb - rgb object\n    * @return {Object} hex string\n  */\n  static rgb2Hex(rgb) {\n    var str = \"#\";\n    str += rgb.r.toString(16).padStart(2, \"0\");\n    str += rgb.g.toString(16).padStart(2, \"0\");\n    str += rgb.b.toString(16).padStart(2, \"0\");\n    return str;\n  }\n\n  /**\n    * @desc parse hex string\n    * @param {String} str - color string\n    * @return {Object} rgb object\n  */\n  static parseHexStr(hex) {\n    // Strip any \"#\" characters\n    hex = hex.replace(\"#\", \"\");\n    // Prefix the hex string with \"0x\" which indicates a number in hex notation, then convert to an integer\n    var int = parseInt(\"0x\" + hex),\n        // If the length of the input is only 3, then it is a shorthand hex color\n        isShorthand = hex.length == 3,\n        // bitMask for isolating each channel\n        bitMask = isShorthand ? 0xF : 0xFF,\n        // bitLength of each channel (for example, F is 4 bits long while FF is 8 bits long)\n        bitLength = isShorthand ? 4 : 8,\n        // If we're using shorthand notation, multiply each channel by 17\n        multiplier = isShorthand ? 17 : 1;\n    return {\n      r: ((int >> (bitLength * 2)) & bitMask) * multiplier,\n      g: ((int >> bitLength) & bitMask) * multiplier,\n      b: (int & bitMask) * multiplier,\n    };\n  }\n\n  /**\n    * @desc parse hsl string\n    * @param {String} str - color string\n    * @return {Object} hsl object\n  */\n  static parseHslStr(str) {\n    var parsed = parseColorStr(str, [360, 100, 100]);\n    return {\n      h: parsed[2],\n      s: parsed[3],\n      l: parsed[4]\n    };\n  }\n\n  /**\n    * @desc parse rgb string\n    * @param {String} str - color string\n    * @return {Object} rgb object\n  */\n  static parseRgbStr(str) {\n    var parsed = parseColorStr(str, [255, 255, 255]);\n    return {\n      r: parsed[1],\n      g: parsed[2],\n      b: parsed[3]\n    };\n  }\n\n  get hsv() {\n    // _value is cloned to allow changes to be made to the values before passing them back\n    var v = this._value;\n    return {h: v.h, s: v.s, v: v.v};\n  }\n\n  set hsv(newValue) {\n    // If this color is being watched for changes we need to compare the new and old values to check the difference\n    // Otherwise we can just be lazy\n    if (this._onChange) {\n      var oldValue = this._value;\n      for (var channel in oldValue) {\n        if (!newValue.hasOwnProperty(channel)) newValue[channel] = oldValue[channel];\n      }\n      var changes = compareObjs(oldValue, newValue);\n      // Update the old value\n      this._value = newValue;\n      // If the value has changed, call hook callback\n      if (changes.h || changes.s || changes.v) this._onChange(this, changes);\n    } else {\n      this._value = newValue;\n    }\n  }\n\n  get rgb() {\n    var rgb = color.hsv2Rgb(this._value);\n    return {\n      r: round(rgb.r),\n      g: round(rgb.g),\n      b: round(rgb.b),\n    };\n  }\n\n  set rgb(value) {\n    this.hsv = color.rgb2Hsv(value);\n  }\n\n  get hsl() {\n    var hsl = color.hsv2Hsl(this._value);\n    return {\n      h: round(hsl.h),\n      s: round(hsl.s),\n      l: round(hsl.l),\n    };\n  }\n\n  set hsl(value) {\n    this.hsv = color.hsl2Hsv(value);\n  }\n\n  get rgbString() {\n    return color.rgb2Str(this.rgb);\n  }\n\n  set rgbString(value) {\n    this.rgb = color.parseRgbStr(value);\n  }\n\n  get hexString() {\n    return color.rgb2Hex(this.rgb);\n  }\n\n  set hexString(value) {\n    this.rgb = color.parseHexStr(value);\n  }\n\n  get hslString() {\n    return color.hsl2Str(this.hsl);\n  }\n\n  set hslString(value) {\n    this.hsl = color.parseHslStr(value);\n  }\n\n  /**\n    * @desc set the color from any valid value\n    * @param {Object | String | color} value - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n  */\n  set(value) {\n    if (typeof value == \"object\") {\n      if (value instanceof color) {\n        this.hsv = color.hsv;\n      } else if (\"r\" in value) {\n        this.rgb = value;\n      } else if (\"v\" in value) {\n        this.hsv = value;\n      } else if (\"l\" in value) {\n        this.hsl = value;\n      }\n    } else if (typeof value == \"string\") {\n      if (/^rgb/.test(value)) {\n        this.rgbString = value;\n      } else if (/^hsl/.test(value)) {\n        this.hslString = value;\n      } else if (/^#[0-9A-Fa-f]/.test(value)) {\n        this.hexString = value;\n      }\n    }\n  }\n\n  /**\n    * @desc shortcut to set a specific channel value\n    * @param {String} model - hsv | hsl | rgb\n    * @param {String} channel - individual channel to set, for example if model = hsl, chanel = h | s | l\n    * @param {Number} value - new value for the channel\n  */\n  setChannel(model, channel, value) {\n    var v = this[model];\n    v[channel] = value;\n    this[model] = v;\n  }\n\n  /**\n    * @desc make new color instance with the same value as this one\n    * @return {color}\n  */\n  clone() {\n    return new color(this);\n  }\n\n  /**\n    * @desc compare this color against another, returns a object representing changes with true/false values\n    * @param {Object | String | color} color - color to compare against\n    * @param {String} model - hsv | hsl | rgb\n    * @return {Object}\n  */\n  compare(color, model) {\n    model = model || \"hsv\";\n    return compareObjs(this[model], getColor(color)[model]);\n  }\n\n  /**\n    * @desc mix a color into this one\n    * @param {Object | String | color} color - color instance, object (hsv, hsl or rgb), string (hsl, rgb, hex)\n    * @param {Number} weight - closer to 0 = more current color, closer to 100 = more new color\n  */\n  mix(color, weight) {\n    this.hsv = mix(this, color, weight).hsv;\n  }\n\n  /**\n    * @desc lighten color by amount\n    * @param {Number} amount\n  */\n  lighten(amount) {\n    lighten(this, amount);\n  }\n\n  /**\n    * @desc darken color by amount\n    * @param {Number} amount\n  */\n  darken(amount) {\n    darken(this, amount);\n  }\n}","import { h } from \"preact\";\n\nimport IroComponent from \"ui/component\";\nimport Marker from \"ui/marker\";\n\nimport iroColor from \"modules/color\";\n\nexport default class IroSlider extends IroComponent {\n\n  render(props) {\n\n    const width = 300;\n    const height = props.sliderHeight;\n    const hsv = props.hsv;\n    const hsl = iroColor.hsv2Hsl({h: hsv.h, s: hsv.s, v: 100});\n\n    return (\n      <svg class=\"iro__slider\" x={ props.x } y={ props.y } ref={ el => this.root = el }>\n        <defs>\n          <linearGradient id=\"iroGradient1\">\n            <stop offset=\"0%\" stop-color=\"#000\" />\n            <stop offset=\"100%\" stop-color={ `hsl(${hsl.h}, ${hsl.s}%, ${hsl.v}%)` } />\n          </linearGradient>\n        </defs>\n        <rect \n          class=\"iro__slider__value\"\n          rx={ height / 2 } \n          ry={ height / 2 } \n          x={ 0 } \n          y={ 0 } \n          width={ width } \n          height={ height }\n          stroke-width={ props.borderWidth }\n          stroke={ props.borderColor }\n          fill=\"url(#iroGradient1)\"\n          vectorEffect=\"non-scaling-stroke\"\n        />\n        <Marker \n          r={ props.markerRadius }\n          x={ (hsv.v / 100) * width }\n          y={ height / 2 }\n        />\n      </svg>\n    );\n  }\n\n  /**\n    * @desc Takes a point at (x, y) and returns HSV values based on this input -- use this to update a color from mouse input\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n    * @return {Object} - new HSV color values (some channels may be missing)\n  */\n  input(x, y, rect, type) {\n    x = x - rect.left;\n    y = y - rect.top;\n    var opts = this.props;\n    var range = opts.width;\n    var dist = Math.max(Math.min(x, range.max), range.min) - range.min;\n    return {\n      v: Math.round((100 / range.w) * dist),\n    };\n  }\n}","\nexport default class stylesheet {\n  /**\n    @constructor stylesheet writer\n  */\n  constructor() {\n    // Create a new style element\n    let style = document.createElement(\"style\");\n    document.head.appendChild(style);\n    // Webkit apparently requires a text node to be inserted into the style element\n    // (according to https://davidwalsh.name/add-rules-stylesheets)\n    style.appendChild(document.createTextNode(\"\"));\n    this.style = style;\n    // Create a reference to the style element's CSSStyleSheet object\n    // CSSStyleSheet API: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet\n    let sheet = style.sheet;\n    this.sheet = sheet;\n    // Get a reference to the sheet's CSSRuleList object\n    // CSSRuleList API: https://developer.mozilla.org/en-US/docs/Web/API/CSSRuleList\n    this.rules = sheet.rules || sheet.cssRules;\n    // We'll store references to all the CSSStyleDeclaration objects that we change here, keyed by the CSS selector they belong to\n    // CSSStyleDeclaration API: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n    this.map = {};\n  }\n\n  get enabled() {\n    return !this.sheet.disabled;\n  }\n\n  set enabled(value) {\n    this.sheet.disabled = !value;\n  }\n\n  // TODO: consider removing cssText + css properties since i don't tink they're that useful\n  get cssText() {\n    var map = this.map;\n    var ret = [];\n    for (var selector in map) {\n      ret.push(selector.replace(/,\\W/g, \",\\n\") + \" {\\n\\t\" + map[selector].cssText.replace(/;\\W/g, \";\\n\\t\") + \"\\n}\");\n    }\n    return ret.join(\"\\n\");\n  }\n  \n  get css() {\n    var map = this.map;\n    var ret = {};\n    for (var selector in map) {\n      var ruleSet = map[selector];\n      ret[selector] = {};\n      for (var i = 0; i < ruleSet.length; i++) {\n        var property = ruleSet[i];\n        ret[selector][property] = ruleSet.getPropertyValue(property);\n      }\n    }\n    return ret;\n  }\n\n  /**\n    * @desc Set a specific rule for a given selector\n    * @param {String} selector - the CSS selector for this rule (e.g. \"body\", \".class\", \"#id\")\n    * @param {String} property - the CSS property to set (e.g. \"background-color\", \"font-family\", \"z-index\")\n    * @param {String} value    - the new value for the rule (e.g. \"rgb(255, 255, 255)\", \"Helvetica\", \"99\")\n  */\n  setRule(selector, property, value) {\n    var sheet = this.sheet;\n    var rules = sheet.rules || sheet.cssRules;\n    var map = this.map;\n    // Convert property from camelCase to snake-case\n    property = property.replace(/([A-Z])/g, function($1) {\n      return \"-\" + $1.toLowerCase();\n    });\n    if (!map.hasOwnProperty(selector)) {\n      // If the selector hasn't been used yet we want to insert the rule at the end of the CSSRuleList, so we use its length as the index value\n      var index = rules.length;\n      // Prepare the rule declaration text, since both insertRule and addRule take this format\n      var declaration = property + \": \" + value;\n      // Insert the new rule into the stylesheet\n      try {\n        // Some browsers only support insertRule, others only support addRule, so we have to use both\n        sheet.insertRule(selector + \" {\" + declaration + \";}\", index);\n      } catch(e) {\n        sheet.addRule(selector, declaration, index);\n      } finally {\n        // Because safari is perhaps the worst browser in all of history, we have to remind it to keep the sheet rules up-to-date\n        rules = sheet.rules || sheet.cssRules;\n        // Add our newly inserted rule's CSSStyleDeclaration object to the internal map\n        map[selector] = rules[index].style;\n      }\n    }\n    else {\n      map[selector].setProperty(property, value);\n    }\n  }\n}","import { h, Component } from \"preact\";\n\nimport IroWheel from \"ui/wheel\";\nimport IroSlider from \"ui/slider\";\n\nimport iroColor from \"modules/color\";\nimport iroStyleSheet from \"modules/stylesheet\";\n\n// import { whenReady } from \"util/dom\";\n\nexport default class ColorPicker extends Component {\n\n  constructor(props) {\n    super(props);\n    this._events = {};\n    this._colorChangeActive = false;\n    this.css = props.css || props.styles || undefined;\n    this.color = new iroColor(props.color);\n    this.state = {\n      hsv: {h: 0, s: 0, v: 0}\n    };\n  }\n\n  componentDidMount() {\n    // Create an iroStyleSheet for this colorWheel's CSS overrides\n    this.stylesheet = new iroStyleSheet();\n    this.emit(\"mount\", this);\n  }\n\n  componentWillUnmount() {\n\n  }\n\n  /**\n    * @desc update the selected color\n    * @param {Object} hsv - new hsv value\n    * @access protected\n  */\n  setHsv(hsv, changes) {\n    this.color.hsv = hsv;\n    this.setState({ hsv });\n\n    var rgb = this.color.rgbString;\n    var css = this.css;\n\n    for (var selector in css) {\n      var properties = css[selector];\n      for (var prop in properties) {\n        this.stylesheet.setRule(selector, prop, rgb);\n      }\n    } \n    // Prevent infinite loops if the color is set inside a `color:change` callback\n    if (!this._colorChangeActive) {\n      // While _colorChangeActive = true, this event cannot be fired\n      this._colorChangeActive = true;\n      this.emit(\"color:change\", this.color);\n      this._colorChangeActive = false;\n    }\n  }\n\n  /**\n    * @desc Set a callback function for an event\n    * @param {String} eventType Name of the event to listen to, pass \"*\" to listen to all events\n    * @param {Function} callback Event callback\n  */\n  on(eventType, callback) {\n    var events = this._events;\n    (events[eventType] || (events[eventType] = [])).push(callback);\n  }\n\n  /**\n    * @desc Remove a callback function for an event added with on()\n    * @param {String} eventType The name of the event\n    * @param {Function} callback The watch callback to remove from the event\n  */\n  off(eventType, callback) {\n    var eventList = this._events[eventType];\n    if (eventList) eventList.splice(eventList.indexOf(callback), 1);\n  }\n\n  /**\n    * @desc Emit an event\n    * @param {String} eventType The name of the event to emit\n    * @param {Array} args array of args to pass to callbacks\n  */\n  emit(eventType, ...args) {\n    var events = this._events,\n        callbackList = (events[eventType] || []).concat((events[\"*\"] || []));\n    for (var i = 0; i < callbackList.length; i++) {\n      callbackList[i].apply(null, args); \n    }\n  }\n\n  render(props, state) {\n   return (\n    <svg \n      class=\"iro__svg\"\n      width={ props.width } \n      height={ props.height } \n      viewBox={`0 0 ${ props.width } ${ props.height }`}\n      style={{\n        \"display\": props.display || \"block\",\n        \"touch-action\": \"none\"\n      }}\n      ref={ el => this.el = el }\n    >\n      <defs rel=\"aaa\"></defs>\n      <IroWheel hsv={state.hsv} x={0} y={0} radius={100} rMax={100} onChange={function(){console.log('aaa')}} {...props}/>\n    </svg>\n  )\n  }\n}\n\nColorPicker.defaultProps = {\n  width: 300,\n  height: 300,\n  markerRadius: 8,\n  borderColor: \"#fff\",\n  borderWidth: 0,\n  anticlockwise: false,\n  sliderHeight: 24,\n  sliderMargin: 8\n}","import { render, h } from \"preact\";\n\nimport ColorPicker from \"modules/colorPicker\";\nimport Color from \"modules/color\";\nimport Stylesheet from \"modules/stylesheet\";\n\nimport Marker from \"./ui/marker\";\nimport Slider from \"./ui/slider\";\nimport Wheel from \"./ui/wheel\";\n\nexport default {\n  Color,\n  ColorPicker: function(el, props) {\n    return render(<ColorPicker />, document.querySelector(el))._component;\n  },\n  Stylesheet,\n  ui: {\n    Marker,\n    Slider,\n    Wheel\n  },\n  version: process.env.VERSION,\n};\n"],"names":["VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","i","children","arguments","length","push","pop","undefined","String","p","key","vnode","extend","obj","props","defer","Promise","resolve","then","bind","setTimeout","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","debounceRendering","rerender","list","renderComponent","isNamedNode","node","normalizedNodeName","toLowerCase","getNodeProps","defaultProps","removeNode","parentNode","removeChild","setAccessor","name","old","value","isSvg","style","cssText","test","innerHTML","__html","useCapture","replace","substring","addEventListener","eventProxy","removeEventListener","_listeners","e","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","className","this","type","event","mounts","diffLevel","isSvgMode","hydrating","flushMounts","c","afterMount","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","appendChild","out","prevSvgMode","splitText","_component","nodeValue","document","createTextNode","replaceChild","recollectNodeTree","vnodeName","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","_parentComponent","constructor","setComponentProps","base","unmountComponent","createComponent","nextBase","buildComponentFromVNode","createElementNS","createElement","firstChild","fc","vchildren","a","nextSibling","isHydrating","j","f","vchild","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","trim","insertBefore","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","unmountOnly","ref","removeChildren","lastChild","next","previousSibling","recyclerComponents","Ctor","inst","prototype","render","Component","call","doRender","splice","state","renderMode","_disable","__ref","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","toUnmount","childComponent","childProps","baseParent","componentRef","t","unshift","componentDidUpdate","afterUpdate","_renderCallbacks","beforeUnmount","componentWillUnmount","inner","listen","el","eventList","callback","params","unlisten","setState","forceUpdate","const","IroComponent","root","passive","handleEvent","preventDefault","point","touches","changedTouches","x","clientX","y","clientY","rect","getBoundingClientRect","input","IroMarker","class","overflow","r","fill","stroke","IroWheel","hsv","markerAngle","anticlockwise","Math","PI","markerDist","s","rMax","radius","id","offset","cx","cy","borderColor","borderWidth","Array","map","_","hue","d","startAngle","endAngle","largeArcFlag","cos","sin","join","arcPath","opacity","v","Marker","markerRadius","cX","width","cY","height","left","top","angle","atan2","round","dist","sqrt","floor","parseColorStr","str","maxValues","parsed","match","val1","parseInt","val2","val3","parseFloat","getColor","color","clamp","max","compareObjs","b","changes","_onChange","_value","set","mix","color1","color2","weight","rgb1","rgb","rgb2","g","lighten","amount","col","darken","hsv2Rgb","q","rgb2Hsv","delta","hsv2Hsl","l","abs","hsl2Hsv","hsl","hsl2Str","rgb2Str","rgb2Hex","toString","padStart","parseHexStr","hex","int","isShorthand","bitLength","bitMask","multiplier","parseHslStr","parseRgbStr","prototypeAccessors","newValue","oldValue","channel","hasOwnProperty","rgbString","hexString","hslString","setChannel","model","clone","compare","IroSlider","sliderHeight","iroColor","rx","ry","vectorEffect","range","w","stylesheet","head","sheet","rules","cssRules","enabled","disabled","selector","css","ruleSet","property","getPropertyValue","setRule","$1","setProperty","index","declaration","insertRule","addRule","ColorPicker","_events","_colorChangeActive","styles","iroStyleSheet","emit","setHsv","properties","prop","on","eventType","events","off","indexOf","callbackList","concat","apply","args","viewBox","display","rel","onChange","console","log","sliderMargin","Color","querySelector","merge","Stylesheet","ui","Slider","Wheel","version","process"],"mappings":"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"}